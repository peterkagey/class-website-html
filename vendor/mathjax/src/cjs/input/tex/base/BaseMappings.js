"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var sm = __importStar(require("../TokenMap.js"));
var TexConstants_js_1 = require("../TexConstants.js");
var BaseMethods_js_1 = __importDefault(require("./BaseMethods.js"));
var ParseMethods_js_1 = __importDefault(require("../ParseMethods.js"));
var ParseUtil_js_1 = require("../ParseUtil.js");
var MmlNode_js_1 = require("../../../core/MmlTree/MmlNode.js");
var lengths_js_1 = require("../../../util/lengths.js");
var THICKMATHSPACE = (0, lengths_js_1.em)(lengths_js_1.MATHSPACE.thickmathspace);
var VARIANT = TexConstants_js_1.TexConstant.Variant;
new sm.RegExpMap('letter', ParseMethods_js_1.default.variable, /[a-z]/i);
new sm.RegExpMap('digit', ParseMethods_js_1.default.digit, /[0-9.,]/);
new sm.RegExpMap('command', ParseMethods_js_1.default.controlSequence, /^\\/);
new sm.MacroMap('special', {
    '{': BaseMethods_js_1.default.Open,
    '}': BaseMethods_js_1.default.Close,
    '~': BaseMethods_js_1.default.Tilde,
    '^': BaseMethods_js_1.default.Superscript,
    _: BaseMethods_js_1.default.Subscript,
    '|': BaseMethods_js_1.default.Bar,
    ' ': BaseMethods_js_1.default.Space,
    '\t': BaseMethods_js_1.default.Space,
    '\r': BaseMethods_js_1.default.Space,
    '\n': BaseMethods_js_1.default.Space,
    "'": BaseMethods_js_1.default.Prime,
    '%': BaseMethods_js_1.default.Comment,
    '&': BaseMethods_js_1.default.Entry,
    '#': BaseMethods_js_1.default.Hash,
    '\u00A0': BaseMethods_js_1.default.Space,
    '\u2019': BaseMethods_js_1.default.Prime,
});
new sm.CharacterMap('lcGreek', ParseMethods_js_1.default.lcGreek, {
    alpha: '\u03B1',
    beta: '\u03B2',
    gamma: '\u03B3',
    delta: '\u03B4',
    epsilon: '\u03F5',
    zeta: '\u03B6',
    eta: '\u03B7',
    theta: '\u03B8',
    iota: '\u03B9',
    kappa: '\u03BA',
    lambda: '\u03BB',
    mu: '\u03BC',
    nu: '\u03BD',
    xi: '\u03BE',
    omicron: '\u03BF',
    pi: '\u03C0',
    rho: '\u03C1',
    sigma: '\u03C3',
    tau: '\u03C4',
    upsilon: '\u03C5',
    phi: '\u03D5',
    chi: '\u03C7',
    psi: '\u03C8',
    omega: '\u03C9',
    varepsilon: '\u03B5',
    vartheta: '\u03D1',
    varpi: '\u03D6',
    varrho: '\u03F1',
    varsigma: '\u03C2',
    varphi: '\u03C6',
});
new sm.CharacterMap('ucGreek', ParseMethods_js_1.default.ucGreek, {
    Gamma: '\u0393',
    Delta: '\u0394',
    Theta: '\u0398',
    Lambda: '\u039B',
    Xi: '\u039E',
    Pi: '\u03A0',
    Sigma: '\u03A3',
    Upsilon: '\u03A5',
    Phi: '\u03A6',
    Psi: '\u03A8',
    Omega: '\u03A9',
});
new sm.CharacterMap('mathchar0mi', ParseMethods_js_1.default.mathchar0mi, {
    AA: '\u212B',
    S: ['\u00A7', { mathvariant: VARIANT.NORMAL }],
    aleph: ['\u2135', { mathvariant: VARIANT.NORMAL }],
    hbar: ['\u210F', { variantForm: true }],
    imath: '\u0131',
    jmath: '\u0237',
    ell: '\u2113',
    wp: ['\u2118', { mathvariant: VARIANT.NORMAL }],
    Re: ['\u211C', { mathvariant: VARIANT.NORMAL }],
    Im: ['\u2111', { mathvariant: VARIANT.NORMAL }],
    partial: ['\u2202', { mathvariant: VARIANT.ITALIC }],
    infty: ['\u221E', { mathvariant: VARIANT.NORMAL }],
    prime: ['\u2032', { variantForm: true }],
    emptyset: ['\u2205', { mathvariant: VARIANT.NORMAL }],
    nabla: ['\u2207', { mathvariant: VARIANT.NORMAL }],
    top: ['\u22A4', { mathvariant: VARIANT.NORMAL }],
    bot: ['\u22A5', { mathvariant: VARIANT.NORMAL }],
    angle: ['\u2220', { mathvariant: VARIANT.NORMAL }],
    triangle: ['\u25B3', { mathvariant: VARIANT.NORMAL }],
    backslash: ['\\', { mathvariant: VARIANT.NORMAL }],
    forall: ['\u2200', { mathvariant: VARIANT.NORMAL }],
    exists: ['\u2203', { mathvariant: VARIANT.NORMAL }],
    neg: ['\u00AC', { mathvariant: VARIANT.NORMAL }],
    lnot: ['\u00AC', { mathvariant: VARIANT.NORMAL }],
    flat: ['\u266D', { mathvariant: VARIANT.NORMAL }],
    natural: ['\u266E', { mathvariant: VARIANT.NORMAL }],
    sharp: ['\u266F', { mathvariant: VARIANT.NORMAL }],
    clubsuit: ['\u2663', { mathvariant: VARIANT.NORMAL }],
    diamondsuit: ['\u2662', { mathvariant: VARIANT.NORMAL }],
    heartsuit: ['\u2661', { mathvariant: VARIANT.NORMAL }],
    spadesuit: ['\u2660', { mathvariant: VARIANT.NORMAL }],
});
new sm.CharacterMap('mathchar0mo', ParseMethods_js_1.default.mathchar0mo, {
    surd: '\u221A',
    coprod: ['\u2210', { movesupsub: true }],
    bigvee: ['\u22C1', { movesupsub: true }],
    bigwedge: ['\u22C0', { movesupsub: true }],
    biguplus: ['\u2A04', { movesupsub: true }],
    bigcap: ['\u22C2', { movesupsub: true }],
    bigcup: ['\u22C3', { movesupsub: true }],
    int: '\u222B',
    intop: ['\u222B', { movesupsub: true, movablelimits: true }],
    iint: '\u222C',
    iiint: '\u222D',
    prod: ['\u220F', { movesupsub: true }],
    sum: ['\u2211', { movesupsub: true }],
    bigotimes: ['\u2A02', { movesupsub: true }],
    bigoplus: ['\u2A01', { movesupsub: true }],
    bigodot: ['\u2A00', { movesupsub: true }],
    oint: '\u222E',
    ointop: ['\u222E', { movesupsub: true, movablelimits: true }],
    oiint: '\u222F',
    oiiint: '\u2230',
    bigsqcup: ['\u2A06', { movesupsub: true }],
    smallint: ['\u222B', { largeop: false }],
    triangleleft: '\u25C3',
    triangleright: '\u25B9',
    bigtriangleup: '\u25B3',
    bigtriangledown: '\u25BD',
    wedge: '\u2227',
    land: '\u2227',
    vee: '\u2228',
    lor: '\u2228',
    cap: '\u2229',
    cup: '\u222A',
    ddagger: '\u2021',
    dagger: '\u2020',
    sqcap: '\u2293',
    sqcup: '\u2294',
    uplus: '\u228E',
    amalg: '\u2A3F',
    diamond: '\u22C4',
    bullet: '\u2219',
    wr: '\u2240',
    div: '\u00F7',
    odot: ['\u2299', { largeop: false }],
    oslash: ['\u2298', { largeop: false }],
    otimes: ['\u2297', { largeop: false }],
    ominus: ['\u2296', { largeop: false }],
    oplus: ['\u2295', { largeop: false }],
    mp: '\u2213',
    pm: '\u00B1',
    circ: '\u2218',
    bigcirc: '\u25EF',
    setminus: '\u2216',
    cdot: '\u22C5',
    ast: '\u2217',
    times: '\u00D7',
    star: '\u22C6',
    propto: '\u221D',
    sqsubseteq: '\u2291',
    sqsupseteq: '\u2292',
    parallel: '\u2225',
    mid: '\u2223',
    dashv: '\u22A3',
    vdash: '\u22A2',
    leq: '\u2264',
    le: '\u2264',
    geq: '\u2265',
    ge: '\u2265',
    lt: '\u003C',
    gt: '\u003E',
    succ: '\u227B',
    prec: '\u227A',
    approx: '\u2248',
    succeq: '\u2AB0',
    preceq: '\u2AAF',
    supset: '\u2283',
    subset: '\u2282',
    supseteq: '\u2287',
    subseteq: '\u2286',
    in: '\u2208',
    ni: '\u220B',
    notin: '\u2209',
    owns: '\u220B',
    gg: '\u226B',
    ll: '\u226A',
    sim: '\u223C',
    simeq: '\u2243',
    perp: '\u27C2',
    equiv: '\u2261',
    asymp: '\u224D',
    smile: '\u2323',
    frown: '\u2322',
    ne: '\u2260',
    neq: '\u2260',
    cong: '\u2245',
    doteq: '\u2250',
    bowtie: '\u22C8',
    models: '\u22A7',
    notChar: '\u29F8',
    Leftrightarrow: '\u21D4',
    Leftarrow: '\u21D0',
    Rightarrow: '\u21D2',
    leftrightarrow: '\u2194',
    leftarrow: '\u2190',
    gets: '\u2190',
    rightarrow: '\u2192',
    to: ['\u2192', { accent: false }],
    mapsto: '\u21A6',
    leftharpoonup: '\u21BC',
    leftharpoondown: '\u21BD',
    rightharpoonup: '\u21C0',
    rightharpoondown: '\u21C1',
    nearrow: '\u2197',
    searrow: '\u2198',
    nwarrow: '\u2196',
    swarrow: '\u2199',
    rightleftharpoons: '\u21CC',
    hookrightarrow: '\u21AA',
    hookleftarrow: '\u21A9',
    longleftarrow: '\u27F5',
    Longleftarrow: '\u27F8',
    longrightarrow: '\u27F6',
    Longrightarrow: '\u27F9',
    Longleftrightarrow: '\u27FA',
    longleftrightarrow: '\u27F7',
    longmapsto: '\u27FC',
    ldots: '\u2026',
    cdots: '\u22EF',
    vdots: '\u22EE',
    ddots: '\u22F1',
    iddots: '\u22F0',
    dotsc: '\u2026',
    dotsb: '\u22EF',
    dotsm: '\u22EF',
    dotsi: '\u22EF',
    dotso: '\u2026',
    ldotp: ['\u002E', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }],
    cdotp: ['\u22C5', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }],
    colon: ['\u003A', { texClass: MmlNode_js_1.TEXCLASS.PUNCT }],
});
new sm.CharacterMap('mathchar7', ParseMethods_js_1.default.mathchar7, {
    _: '\u005F',
    '#': '\u0023',
    $: '\u0024',
    '%': '\u0025',
    '&': '\u0026',
    And: '\u0026',
});
new sm.DelimiterMap('delimiter', ParseMethods_js_1.default.delimiter, {
    '(': '(',
    ')': ')',
    '[': '[',
    ']': ']',
    '<': '\u27E8',
    '>': '\u27E9',
    '\\lt': '\u27E8',
    '\\gt': '\u27E9',
    '/': '/',
    '|': ['|', { texClass: MmlNode_js_1.TEXCLASS.ORD }],
    '.': '',
    '\\lmoustache': '\u23B0',
    '\\rmoustache': '\u23B1',
    '\\lgroup': '\u27EE',
    '\\rgroup': '\u27EF',
    '\\arrowvert': '\u23D0',
    '\\Arrowvert': '\u2016',
    '\\bracevert': '\u23AA',
    '\\Vert': ['\u2016', { texClass: MmlNode_js_1.TEXCLASS.ORD }],
    '\\|': ['\u2016', { texClass: MmlNode_js_1.TEXCLASS.ORD }],
    '\\vert': ['|', { texClass: MmlNode_js_1.TEXCLASS.ORD }],
    '\\uparrow': '\u2191',
    '\\downarrow': '\u2193',
    '\\updownarrow': '\u2195',
    '\\Uparrow': '\u21D1',
    '\\Downarrow': '\u21D3',
    '\\Updownarrow': '\u21D5',
    '\\backslash': '\\',
    '\\rangle': '\u27E9',
    '\\langle': '\u27E8',
    '\\rbrace': '}',
    '\\lbrace': '{',
    '\\}': '}',
    '\\{': '{',
    '\\rceil': '\u2309',
    '\\lceil': '\u2308',
    '\\rfloor': '\u230B',
    '\\lfloor': '\u230A',
    '\\lbrack': '[',
    '\\rbrack': ']',
});
new sm.CommandMap('macros', {
    displaystyle: [BaseMethods_js_1.default.SetStyle, 'D', true, 0],
    textstyle: [BaseMethods_js_1.default.SetStyle, 'T', false, 0],
    scriptstyle: [BaseMethods_js_1.default.SetStyle, 'S', false, 1],
    scriptscriptstyle: [BaseMethods_js_1.default.SetStyle, 'SS', false, 2],
    rm: [BaseMethods_js_1.default.SetFont, VARIANT.NORMAL],
    mit: [BaseMethods_js_1.default.SetFont, VARIANT.ITALIC],
    oldstyle: [BaseMethods_js_1.default.SetFont, VARIANT.OLDSTYLE],
    cal: [BaseMethods_js_1.default.SetFont, VARIANT.CALLIGRAPHIC],
    it: [BaseMethods_js_1.default.SetFont, VARIANT.MATHITALIC],
    bf: [BaseMethods_js_1.default.SetFont, VARIANT.BOLD],
    sf: [BaseMethods_js_1.default.SetFont, VARIANT.SANSSERIF],
    tt: [BaseMethods_js_1.default.SetFont, VARIANT.MONOSPACE],
    frak: [BaseMethods_js_1.default.MathFont, VARIANT.FRAKTUR],
    Bbb: [BaseMethods_js_1.default.MathFont, VARIANT.DOUBLESTRUCK],
    mathrm: [BaseMethods_js_1.default.MathFont, VARIANT.NORMAL],
    mathup: [BaseMethods_js_1.default.MathFont, VARIANT.NORMAL],
    mathnormal: [BaseMethods_js_1.default.MathFont, ''],
    mathbf: [BaseMethods_js_1.default.MathFont, VARIANT.BOLD],
    mathbfup: [BaseMethods_js_1.default.MathFont, VARIANT.BOLD],
    mathit: [BaseMethods_js_1.default.MathFont, VARIANT.MATHITALIC],
    mathbfit: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDITALIC],
    mathbb: [BaseMethods_js_1.default.MathFont, VARIANT.DOUBLESTRUCK],
    mathfrak: [BaseMethods_js_1.default.MathFont, VARIANT.FRAKTUR],
    mathbffrak: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDFRAKTUR],
    mathscr: [BaseMethods_js_1.default.MathFont, VARIANT.SCRIPT],
    mathbfscr: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDSCRIPT],
    mathsf: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIF],
    mathsfup: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIF],
    mathbfsf: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDSANSSERIF],
    mathbfsfup: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDSANSSERIF],
    mathsfit: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIFITALIC],
    mathbfsfit: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIFBOLDITALIC],
    mathtt: [BaseMethods_js_1.default.MathFont, VARIANT.MONOSPACE],
    mathcal: [BaseMethods_js_1.default.MathFont, VARIANT.CALLIGRAPHIC],
    mathbfcal: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDCALLIGRAPHIC],
    symrm: [BaseMethods_js_1.default.MathFont, VARIANT.NORMAL],
    symup: [BaseMethods_js_1.default.MathFont, VARIANT.NORMAL],
    symnormal: [BaseMethods_js_1.default.MathFont, ''],
    symbf: [BaseMethods_js_1.default.MathFont, VARIANT.BOLD, VARIANT.BOLDITALIC],
    symbfup: [BaseMethods_js_1.default.MathFont, VARIANT.BOLD],
    symit: [BaseMethods_js_1.default.MathFont, VARIANT.ITALIC],
    symbfit: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDITALIC],
    symbb: [BaseMethods_js_1.default.MathFont, VARIANT.DOUBLESTRUCK],
    symfrak: [BaseMethods_js_1.default.MathFont, VARIANT.FRAKTUR],
    symbffrak: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDFRAKTUR],
    symscr: [BaseMethods_js_1.default.MathFont, VARIANT.SCRIPT],
    symbfscr: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDSCRIPT],
    symsf: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIF, VARIANT.SANSSERIFITALIC],
    symsfup: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIF],
    symbfsf: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDSANSSERIF],
    symbfsfup: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDSANSSERIF],
    symsfit: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIFITALIC],
    symbfsfit: [BaseMethods_js_1.default.MathFont, VARIANT.SANSSERIFBOLDITALIC],
    symtt: [BaseMethods_js_1.default.MathFont, VARIANT.MONOSPACE],
    symcal: [BaseMethods_js_1.default.MathFont, VARIANT.CALLIGRAPHIC],
    symbfcal: [BaseMethods_js_1.default.MathFont, VARIANT.BOLDCALLIGRAPHIC],
    textrm: [BaseMethods_js_1.default.HBox, null, VARIANT.NORMAL],
    textup: [BaseMethods_js_1.default.HBox, null, VARIANT.NORMAL],
    textnormal: [BaseMethods_js_1.default.HBox],
    textit: [BaseMethods_js_1.default.HBox, null, VARIANT.ITALIC],
    textbf: [BaseMethods_js_1.default.HBox, null, VARIANT.BOLD],
    textsf: [BaseMethods_js_1.default.HBox, null, VARIANT.SANSSERIF],
    texttt: [BaseMethods_js_1.default.HBox, null, VARIANT.MONOSPACE],
    tiny: [BaseMethods_js_1.default.SetSize, 0.5],
    Tiny: [BaseMethods_js_1.default.SetSize, 0.6],
    scriptsize: [BaseMethods_js_1.default.SetSize, 0.7],
    small: [BaseMethods_js_1.default.SetSize, 0.85],
    normalsize: [BaseMethods_js_1.default.SetSize, 1.0],
    large: [BaseMethods_js_1.default.SetSize, 1.2],
    Large: [BaseMethods_js_1.default.SetSize, 1.44],
    LARGE: [BaseMethods_js_1.default.SetSize, 1.73],
    huge: [BaseMethods_js_1.default.SetSize, 2.07],
    Huge: [BaseMethods_js_1.default.SetSize, 2.49],
    arcsin: BaseMethods_js_1.default.NamedFn,
    arccos: BaseMethods_js_1.default.NamedFn,
    arctan: BaseMethods_js_1.default.NamedFn,
    arg: BaseMethods_js_1.default.NamedFn,
    cos: BaseMethods_js_1.default.NamedFn,
    cosh: BaseMethods_js_1.default.NamedFn,
    cot: BaseMethods_js_1.default.NamedFn,
    coth: BaseMethods_js_1.default.NamedFn,
    csc: BaseMethods_js_1.default.NamedFn,
    deg: BaseMethods_js_1.default.NamedFn,
    det: BaseMethods_js_1.default.NamedOp,
    dim: BaseMethods_js_1.default.NamedFn,
    exp: BaseMethods_js_1.default.NamedFn,
    gcd: BaseMethods_js_1.default.NamedOp,
    hom: BaseMethods_js_1.default.NamedFn,
    inf: BaseMethods_js_1.default.NamedOp,
    ker: BaseMethods_js_1.default.NamedFn,
    lg: BaseMethods_js_1.default.NamedFn,
    lim: BaseMethods_js_1.default.NamedOp,
    liminf: [BaseMethods_js_1.default.NamedOp, 'lim&thinsp;inf'],
    limsup: [BaseMethods_js_1.default.NamedOp, 'lim&thinsp;sup'],
    ln: BaseMethods_js_1.default.NamedFn,
    log: BaseMethods_js_1.default.NamedFn,
    max: BaseMethods_js_1.default.NamedOp,
    min: BaseMethods_js_1.default.NamedOp,
    Pr: BaseMethods_js_1.default.NamedOp,
    sec: BaseMethods_js_1.default.NamedFn,
    sin: BaseMethods_js_1.default.NamedFn,
    sinh: BaseMethods_js_1.default.NamedFn,
    sup: BaseMethods_js_1.default.NamedOp,
    tan: BaseMethods_js_1.default.NamedFn,
    tanh: BaseMethods_js_1.default.NamedFn,
    limits: [BaseMethods_js_1.default.Limits, true],
    nolimits: [BaseMethods_js_1.default.Limits, false],
    overline: [BaseMethods_js_1.default.UnderOver, '2015'],
    underline: [BaseMethods_js_1.default.UnderOver, '2015'],
    overbrace: [BaseMethods_js_1.default.UnderOver, '23DE', true],
    underbrace: [BaseMethods_js_1.default.UnderOver, '23DF', true],
    overparen: [BaseMethods_js_1.default.UnderOver, '23DC'],
    underparen: [BaseMethods_js_1.default.UnderOver, '23DD'],
    overrightarrow: [BaseMethods_js_1.default.UnderOver, '2192'],
    underrightarrow: [BaseMethods_js_1.default.UnderOver, '2192'],
    overleftarrow: [BaseMethods_js_1.default.UnderOver, '2190'],
    underleftarrow: [BaseMethods_js_1.default.UnderOver, '2190'],
    overleftrightarrow: [BaseMethods_js_1.default.UnderOver, '2194'],
    underleftrightarrow: [BaseMethods_js_1.default.UnderOver, '2194'],
    overset: BaseMethods_js_1.default.Overset,
    underset: BaseMethods_js_1.default.Underset,
    overunderset: BaseMethods_js_1.default.Overunderset,
    stackrel: [BaseMethods_js_1.default.Macro, '\\mathrel{\\mathop{#2}\\limits^{#1}}', 2],
    stackbin: [BaseMethods_js_1.default.Macro, '\\mathbin{\\mathop{#2}\\limits^{#1}}', 2],
    over: BaseMethods_js_1.default.Over,
    overwithdelims: BaseMethods_js_1.default.Over,
    atop: BaseMethods_js_1.default.Over,
    atopwithdelims: BaseMethods_js_1.default.Over,
    above: BaseMethods_js_1.default.Over,
    abovewithdelims: BaseMethods_js_1.default.Over,
    brace: [BaseMethods_js_1.default.Over, '{', '}'],
    brack: [BaseMethods_js_1.default.Over, '[', ']'],
    choose: [BaseMethods_js_1.default.Over, '(', ')'],
    frac: BaseMethods_js_1.default.Frac,
    sqrt: BaseMethods_js_1.default.Sqrt,
    root: BaseMethods_js_1.default.Root,
    uproot: [BaseMethods_js_1.default.MoveRoot, 'upRoot'],
    leftroot: [BaseMethods_js_1.default.MoveRoot, 'leftRoot'],
    left: BaseMethods_js_1.default.LeftRight,
    right: BaseMethods_js_1.default.LeftRight,
    middle: BaseMethods_js_1.default.LeftRight,
    llap: BaseMethods_js_1.default.Lap,
    rlap: BaseMethods_js_1.default.Lap,
    raise: BaseMethods_js_1.default.RaiseLower,
    lower: BaseMethods_js_1.default.RaiseLower,
    moveleft: BaseMethods_js_1.default.MoveLeftRight,
    moveright: BaseMethods_js_1.default.MoveLeftRight,
    ',': [BaseMethods_js_1.default.Spacer, lengths_js_1.MATHSPACE.thinmathspace],
    ':': [BaseMethods_js_1.default.Spacer, lengths_js_1.MATHSPACE.mediummathspace],
    '>': [BaseMethods_js_1.default.Spacer, lengths_js_1.MATHSPACE.mediummathspace],
    ';': [BaseMethods_js_1.default.Spacer, lengths_js_1.MATHSPACE.thickmathspace],
    '!': [BaseMethods_js_1.default.Spacer, lengths_js_1.MATHSPACE.negativethinmathspace],
    enspace: [BaseMethods_js_1.default.Spacer, 0.5],
    quad: [BaseMethods_js_1.default.Spacer, 1],
    qquad: [BaseMethods_js_1.default.Spacer, 2],
    thinspace: [BaseMethods_js_1.default.Spacer, lengths_js_1.MATHSPACE.thinmathspace],
    negthinspace: [BaseMethods_js_1.default.Spacer, lengths_js_1.MATHSPACE.negativethinmathspace],
    '*': BaseMethods_js_1.default.DiscretionaryTimes,
    allowbreak: BaseMethods_js_1.default.AllowBreak,
    goodbreak: [BaseMethods_js_1.default.Linebreak, TexConstants_js_1.TexConstant.LineBreak.GOODBREAK],
    badbreak: [BaseMethods_js_1.default.Linebreak, TexConstants_js_1.TexConstant.LineBreak.BADBREAK],
    nobreak: [BaseMethods_js_1.default.Linebreak, TexConstants_js_1.TexConstant.LineBreak.NOBREAK],
    break: BaseMethods_js_1.default.Break,
    hskip: BaseMethods_js_1.default.Hskip,
    hspace: BaseMethods_js_1.default.Hskip,
    kern: [BaseMethods_js_1.default.Hskip, true],
    mskip: BaseMethods_js_1.default.Hskip,
    mspace: BaseMethods_js_1.default.Hskip,
    mkern: [BaseMethods_js_1.default.Hskip, true],
    rule: BaseMethods_js_1.default.rule,
    Rule: [BaseMethods_js_1.default.Rule],
    Space: [BaseMethods_js_1.default.Rule, 'blank'],
    nonscript: BaseMethods_js_1.default.Nonscript,
    big: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.ORD, 0.85],
    Big: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.ORD, 1.15],
    bigg: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.ORD, 1.45],
    Bigg: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.ORD, 1.75],
    bigl: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.OPEN, 0.85],
    Bigl: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.OPEN, 1.15],
    biggl: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.OPEN, 1.45],
    Biggl: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.OPEN, 1.75],
    bigr: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.CLOSE, 0.85],
    Bigr: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.CLOSE, 1.15],
    biggr: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.CLOSE, 1.45],
    Biggr: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.CLOSE, 1.75],
    bigm: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.REL, 0.85],
    Bigm: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.REL, 1.15],
    biggm: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.REL, 1.45],
    Biggm: [BaseMethods_js_1.default.MakeBig, MmlNode_js_1.TEXCLASS.REL, 1.75],
    mathord: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.ORD],
    mathop: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.OP],
    mathopen: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.OPEN],
    mathclose: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.CLOSE],
    mathbin: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.BIN],
    mathrel: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.REL],
    mathpunct: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.PUNCT],
    mathinner: [BaseMethods_js_1.default.TeXAtom, MmlNode_js_1.TEXCLASS.INNER],
    vtop: [BaseMethods_js_1.default.VBox, 'top'],
    vcenter: [BaseMethods_js_1.default.VBox, 'center'],
    vbox: [BaseMethods_js_1.default.VBox, 'bottom'],
    hsize: BaseMethods_js_1.default.Hsize,
    parbox: BaseMethods_js_1.default.ParBox,
    breakAlign: BaseMethods_js_1.default.BreakAlign,
    buildrel: BaseMethods_js_1.default.BuildRel,
    hbox: [BaseMethods_js_1.default.HBox, 0],
    text: BaseMethods_js_1.default.HBox,
    mbox: [BaseMethods_js_1.default.HBox, 0],
    fbox: BaseMethods_js_1.default.FBox,
    boxed: [BaseMethods_js_1.default.Macro, '\\fbox{$\\displaystyle{#1}$}', 1],
    framebox: BaseMethods_js_1.default.FrameBox,
    makebox: BaseMethods_js_1.default.MakeBox,
    strut: BaseMethods_js_1.default.Strut,
    mathstrut: [BaseMethods_js_1.default.Macro, '\\vphantom{(}'],
    phantom: BaseMethods_js_1.default.Phantom,
    vphantom: [BaseMethods_js_1.default.Phantom, 1, 0],
    hphantom: [BaseMethods_js_1.default.Phantom, 0, 1],
    smash: BaseMethods_js_1.default.Smash,
    acute: [BaseMethods_js_1.default.Accent, '00B4'],
    grave: [BaseMethods_js_1.default.Accent, '0060'],
    ddot: [BaseMethods_js_1.default.Accent, '00A8'],
    dddot: [BaseMethods_js_1.default.Accent, '20DB'],
    ddddot: [BaseMethods_js_1.default.Accent, '20DC'],
    tilde: [BaseMethods_js_1.default.Accent, '007E'],
    bar: [BaseMethods_js_1.default.Accent, '00AF'],
    breve: [BaseMethods_js_1.default.Accent, '02D8'],
    check: [BaseMethods_js_1.default.Accent, '02C7'],
    hat: [BaseMethods_js_1.default.Accent, '005E'],
    vec: [BaseMethods_js_1.default.Accent, '2192', false],
    dot: [BaseMethods_js_1.default.Accent, '02D9'],
    widetilde: [BaseMethods_js_1.default.Accent, '007E', true],
    widehat: [BaseMethods_js_1.default.Accent, '005E', true],
    matrix: BaseMethods_js_1.default.Matrix,
    array: BaseMethods_js_1.default.Matrix,
    pmatrix: [BaseMethods_js_1.default.Matrix, '(', ')'],
    cases: [BaseMethods_js_1.default.Matrix, '{', '', 'left left', null, '.2em', null, true],
    eqalign: [
        BaseMethods_js_1.default.Matrix,
        null,
        null,
        'right left',
        THICKMATHSPACE,
        '.5em',
        'D',
    ],
    displaylines: [BaseMethods_js_1.default.Matrix, null, null, 'center', null, '.5em', 'D'],
    cr: BaseMethods_js_1.default.Cr,
    '\\': BaseMethods_js_1.default.CrLaTeX,
    newline: [BaseMethods_js_1.default.CrLaTeX, true],
    hline: BaseMethods_js_1.default.HLine,
    hdashline: [BaseMethods_js_1.default.HLine, 'dashed'],
    eqalignno: [
        BaseMethods_js_1.default.Matrix,
        null,
        null,
        'right left',
        THICKMATHSPACE,
        '.5em',
        'D',
        null,
        'right',
    ],
    leqalignno: [
        BaseMethods_js_1.default.Matrix,
        null,
        null,
        'right left',
        THICKMATHSPACE,
        '.5em',
        'D',
        null,
        'left',
    ],
    hfill: BaseMethods_js_1.default.HFill,
    hfil: BaseMethods_js_1.default.HFill,
    hfilll: BaseMethods_js_1.default.HFill,
    bmod: [
        BaseMethods_js_1.default.Macro,
        '\\mmlToken{mo}[lspace="' +
            THICKMATHSPACE +
            '"' +
            ' rspace="' +
            THICKMATHSPACE +
            '"]{mod}',
    ],
    pmod: [BaseMethods_js_1.default.Macro, '\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}', 1],
    mod: [
        BaseMethods_js_1.default.Macro,
        '\\mathchoice{\\kern18mu}{\\kern12mu}' +
            '{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1',
        1,
    ],
    pod: [
        BaseMethods_js_1.default.Macro,
        '\\mathchoice{\\kern18mu}{\\kern8mu}' + '{\\kern8mu}{\\kern8mu}(#1)',
        1,
    ],
    iff: [BaseMethods_js_1.default.Macro, '\\;\\Longleftrightarrow\\;'],
    skew: [BaseMethods_js_1.default.Macro, '{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}', 3],
    pmb: [BaseMethods_js_1.default.Macro, '\\rlap{#1}\\kern1px{#1}', 1],
    TeX: [BaseMethods_js_1.default.Macro, 'T\\kern-.14em\\lower.5ex{E}\\kern-.115em X'],
    LaTeX: [
        BaseMethods_js_1.default.Macro,
        'L\\kern-.325em\\raise.21em' + '{\\scriptstyle{A}}\\kern-.17em\\TeX',
    ],
    not: BaseMethods_js_1.default.Not,
    dots: BaseMethods_js_1.default.Dots,
    space: BaseMethods_js_1.default.Tilde,
    '\u00A0': BaseMethods_js_1.default.Tilde,
    ' ': BaseMethods_js_1.default.Tilde,
    begin: BaseMethods_js_1.default.BeginEnd,
    end: BaseMethods_js_1.default.BeginEnd,
    label: BaseMethods_js_1.default.HandleLabel,
    ref: BaseMethods_js_1.default.HandleRef,
    nonumber: BaseMethods_js_1.default.HandleNoTag,
    newcolumntype: BaseMethods_js_1.default.NewColumnType,
    mathchoice: BaseMethods_js_1.default.MathChoice,
    mmlToken: BaseMethods_js_1.default.MmlToken,
});
new sm.EnvironmentMap('environment', ParseMethods_js_1.default.environment, {
    displaymath: [BaseMethods_js_1.default.Equation, null, false],
    math: [BaseMethods_js_1.default.Equation, null, false, false],
    array: [BaseMethods_js_1.default.AlignedArray],
    darray: [BaseMethods_js_1.default.AlignedArray, null, 'D'],
    equation: [BaseMethods_js_1.default.Equation, null, true],
    eqnarray: [
        BaseMethods_js_1.default.EqnArray,
        null,
        true,
        true,
        'rcl',
        'bmt',
        ParseUtil_js_1.ParseUtil.cols(0, lengths_js_1.MATHSPACE.thickmathspace),
        '.5em',
    ],
    indentalign: [BaseMethods_js_1.default.IndentAlign],
});
new sm.CharacterMap('not_remap', null, {
    '\u2190': '\u219A',
    '\u2192': '\u219B',
    '\u2194': '\u21AE',
    '\u21D0': '\u21CD',
    '\u21D2': '\u21CF',
    '\u21D4': '\u21CE',
    '\u2208': '\u2209',
    '\u220B': '\u220C',
    '\u2223': '\u2224',
    '\u2225': '\u2226',
    '\u223C': '\u2241',
    '\u007E': '\u2241',
    '\u2243': '\u2244',
    '\u2245': '\u2247',
    '\u2248': '\u2249',
    '\u224D': '\u226D',
    '\u003D': '\u2260',
    '\u2261': '\u2262',
    '\u003C': '\u226E',
    '\u003E': '\u226F',
    '\u2264': '\u2270',
    '\u2265': '\u2271',
    '\u2272': '\u2274',
    '\u2273': '\u2275',
    '\u2276': '\u2278',
    '\u2277': '\u2279',
    '\u227A': '\u2280',
    '\u227B': '\u2281',
    '\u2282': '\u2284',
    '\u2283': '\u2285',
    '\u2286': '\u2288',
    '\u2287': '\u2289',
    '\u22A2': '\u22AC',
    '\u22A8': '\u22AD',
    '\u22A9': '\u22AE',
    '\u22AB': '\u22AF',
    '\u227C': '\u22E0',
    '\u227D': '\u22E1',
    '\u2291': '\u22E2',
    '\u2292': '\u22E3',
    '\u22B2': '\u22EA',
    '\u22B3': '\u22EB',
    '\u22B4': '\u22EC',
    '\u22B5': '\u22ED',
    '\u2203': '\u2204',
});
//# sourceMappingURL=BaseMappings.js.map